  <form  [formGroup]="form" class="m-3">
    <div class="row col-md-12" style="justify-content: space-evenly">
      <input class="form-control form-control-sm col-md-1" placeholder="method" type="text" formControlName="method" [typeahead]="methodOptions" [(ngModel)]="methodSelected">
      <input class="form-control form-control-sm col-md-10" placeholder="url" type="text" formControlName="url">
      <i class="fa fa-paper-plane text-warning ml-2" tooltip="Send" placement="bottom" (click)="onSend()"></i>
      <i class="fa fa-save text-success ml-2" tooltip="Save" placement="bottom" (click)="onSave()"></i>
    </div>
    <div class="col-md-12 mt-2" *ngIf="form.get('method').value === 'POST' || form.get('method').value === 'PUT'">
      <textarea rows="6" placeholder="body" class="form-control form-control-sm" formControlName="body"></textarea>
    </div>
    <div class="mt-3">
        <tabset #responseTabs [justified]="false">
            <tab heading="Headers" [active]="true" class="mt-2 ml-3">
              <div formArrayName="headers">
                  <div *ngFor="let header of form.get('headers')['controls']; let i = index" [formGroupName]="i">
                      <div class="row">
                          <input class="col-md-3 m-2 form-control form-control-sm" placeholder="key" formControlName="key" [typeahead]="keyOptions" [typeaheadScrollable]="true" [typeaheadOptionsInScrollableView]="10" (keyup)="onHeadersKeyPress($event, i)">
                          <input class="col-md-8 m-2 form-control form-control-sm" placeholder="value" formControlName="value" [typeahead]="valueOptions" [typeaheadScrollable]="true" [typeaheadOptionsInScrollableView]="10" (keyup)="onHeadersKeyPress($event, i)">
                          <i *ngIf="form.get('headers')['controls'].length - 1 !== i" class="fa fa-minus-circle text-danger m-2" tooltip="Add header" placement="bottom" (click)="onRemoveHeader(i)"></i>
                      </div>
                  </div>
              </div>
            </tab>
            <tab heading="Response" class="mt-2 ml-3">
              <div class="pull-right text-light">
                <span>Status Code: {{statusCode}} &nbsp;</span>
                <span>Time: {{responseTime}}</span>
              </div>
              <textarea rows="30%" class="form-control form-control-sm" placeholder="response" formControlName="response"></textarea>
            </tab>
            <tab heading="Response Headers" class="mt-2 ml-3">
              <div class="pull-right text-light">
                <span>Status Code: {{statusCode}}</span>
                <span>Time: {{responseTime}}</span>
              </div>
              <textarea rows="30%" class="form-control form-control-sm" placeholder="response headers" formControlName="responseHeaders"></textarea>
            </tab>
          </tabset>
    </div>
  </form>
